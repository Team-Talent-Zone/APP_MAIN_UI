<nav class="navbar fixed-top navbar-expand-md navbar-dark bg-primary mb-3">
    <div class="flex-row d-flex">
        <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas"
            title="Toggle responsive left sidebar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#" title="Dashboard">Company Name</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>

    <select #sel [(ngModel)]="filterOn" (change)="onSearchByFilterSelected(sel.value)"
        *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">
        <option value="0">Select a Filter</option>
        <option value="USR_NAME_SEARCH"
            *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">
            Search By Name</option>
        <option value="USR_USERName_SEARCH"
            *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">
            Search By Email Address</option>
        <option value='FU_SKILL_SEARCH'
            *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">Freelancer
            By Skill</option>
        <option value='FU_CITY_SEARCH'
            *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">Freelancer
            By City</option>
    </select>

    <div class="combobox" *ngIf="this.userService.currentUserValue.userroles.rolecode != 'FREELANCER_USER'">
        <input type="text" [(ngModel)]="inputItem" (ngModelChange)="getFilteredList()" class="combobox-input"
            (keyup)="onKeyPress($event)" (blur)="toggleListDisplay(0)" (focus)="toggleListDisplay(1)"
            placeholder="Search by keyword or select one..." [ngClass]="{'error': showError}">
        <span *ngIf="showError" class="error-text"><i>Invalid Selection.</i></span>
        <div class="combobox-options" *ngIf="!listHidden">
            <list-item *ngFor="let item of filteredList;let i = index" (click)="selectItem(i)"
                [ngClass]="{'selected': i===selectedIndex}">{{item.label}}
            </list-item>
        </div>

        <button (click)="search( inputItemCode , inputItem , filterOn)"> Search </button>
    </div>

    <div class="navbar-collapse collapse" id="collapsingNavbar">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item  btn btn-sm">
                <h6 class="display-7">
                    {{ 'DASHOARD_HEADER.WELCOMEBACK' | translate }} {{userService.currentUserValue.fullname}}
                </h6>
            </li>
            <li class="nav-item  btn btn-sm">

                <a class="nav-link" (click)="logout()">
                    <i class="fa fa-undo "><label>&nbsp;{{ 'DASHOARD_HEADER.LOGOUT' | translate }}</label></i>
                </a>
            </li>
            <li class="nav-item ">
                <a routerLink='/vieworeditprofile/{{userService.currentUserValue.userId}}'>
                    <img id="profile-img" class="profile-img-card" src="{{userService.currentUserValue.avtarurl}}">
                </a>
            </li>
        </ul>

    </div>
</nav>
<div class="container-fluid" id="main">
    <div class="row row-offcanvas row-offcanvas-left">
        <div class="col-md-3 col-lg-2 sidebar-offcanvas bg-light pl-0" id="sidebar" role="navigation">
            <ul class="nav sticky-top pl-0 pt-5 mt-3">
                <li class="nav-item">
                    <a class="nav-link" [routerLink]="['/dashboard']">Dashboard</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_TEAM' || this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_MANAGER'">
                    <a class="nav-link" [routerLink]="['/manageuser']">Manage Users</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_TEAM' || this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_MANAGER'">
                    <a class="nav-link" [routerLink]="['/manageservice']">Manage New Services</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CLIENT_BUSINESS_ADMINISTRATOR'">
                    <a class="nav-link" [routerLink]="['/usersubscribeservices']">My Services</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CLIENT_BUSINESS_ADMINISTRATOR'">
                    <a class="nav-link" [routerLink]="['/paymenthistory']">Payment History</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CLIENT_BUSINESS_ADMINISTRATOR'">
                    <a class="nav-link" [routerLink]="['/job','1']">Manage Jobs</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='FREELANCER_USER' && this.userService.currentUserValue.freeLanceDetails.isregfeedone">
                    <a class="nav-link" [routerLink]="['/paymenthistory']">Payment History</a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_MANAGER'">
                    <a class="nav-link" [routerLink]="['/signupadmin']">
                        <i class="fa fa-user-plus"><label>&nbsp;Create New User</label></i>
                    </a>
                </li>
                <li class="nav-item"
                    *ngIf="this.userService.currentUserValue.userroles.rolecode =='CORE_SERVICE_SUPPORT_TEAM'">
                    <a class="nav-link" [routerLink]="['/newservice']">
                        <i class="fa fa-plus"> <label>&nbsp;Create New Service</label></i>
                    </a>
                </li>
            </ul>
        </div>
        <!--/col-->

        <div class="col main pt-5 mt-4">
            <div class="jumbotron text-center" *ngIf="ispaysuccess">
                <h1 class="display-3">Thank You For Payment!</h1>
                <p class="lead"> We have recieved your payment details and for your reference , Here is the
                    transcation
                    id <strong>this.txtid</strong>
                    setup.</p>
                <hr>
            </div>
            <router-outlet></router-outlet>
        </div>